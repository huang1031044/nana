<form id="orderForm">
  <label>商品名稱（編號）<br><input type="text" name="item_name" required></label><br><br>
  
  <label>數量<br>
    <button type="button" onclick="changeQty(-1)">－</button>
    <input type="number" name="qty" id="qty" value="1" min="1" max="9" readonly>
    <button type="button" onclick="changeQty(1)">＋</button>
  </label><br><br>

  <label>郵遞區號<br>
    <input type="text" name="zip1" size="3" maxlength="3" required> － 
    <input type="text" name="zip2" size="4" maxlength="4" required>
  </label><br><br>

  <label>配送方式<br>
    <select name="delivery" required>
      <option value="">請選擇</option>
      <option value="黑貓宅配">黑貓宅配</option>
      <option value="郵局">郵局</option>
      <option value="東京／埼玉自取">東京／埼玉自取</option>
    </select>
  </label><br><br>

  <label>付款方式<br>
    <select name="payment" required>
      <option value="">請選擇</option>
      <option value="轉帳">轉帳</option>
      <option value="PayPay">PayPay</option>
    </select>
  </label><br><br>

  <label>收件人（日文）<br><input type="text" name="recipient_name" required></label><br><br>
  <label>聯絡電話或LINE ID<br><input type="text" name="contact" required></label><br><br>
  <label>備註<br><textarea name="note" rows="3"></textarea></label><br><br>

  <button type="submit">送出訂單</button>
</form>

<script src="https://cdn.jsdelivr.net/npm/emailjs-com@2/dist/email.min.js"></script>
<script>
  emailjs.init("AoXLN9FqsrfZkmmKr"); // 你的 Public Key

  function changeQty(n) {
    let qty = document.getElementById("qty");
    let val = parseInt(qty.value) + n;
    if (val >= 1 && val <= 9) qty.value = val;
  }

  document.getElementById("orderForm").addEventListener("submit", function(e) {
    e.preventDefault();
    emailjs.sendForm("service_nbs0ejc", "template_nanaorder", this)
      .then(() => {
        alert("訂單已送出！我們將儘快與您聯繫。");
        this.reset();
        document.getElementById("qty").value = 1;
      }, (error) => {
        alert("送出失敗，請再試一次。");
        console.log(error);
      });
  });
</script>
